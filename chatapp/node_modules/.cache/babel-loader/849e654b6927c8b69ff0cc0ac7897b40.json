{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vardh\\\\OneDrive\\\\Desktop\\\\chatapp\\\\chatapp\\\\src\\\\components\\\\ChatInput.js\",\n    _s = $RefreshSig$();\n\nimport { Button } from '@material-ui/core';\nimport React, { useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport SendOutlinedIcon from '@material-ui/icons/SendOutlined';\nimport { auth, db } from '../firebase';\nimport firebase from 'firebase';\nimport Chat from './Chat';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ChatInput({\n  channelName,\n  channelId,\n  chatRef\n}) {\n  _s();\n\n  console.log(channelId);\n  const [input, setInput] = useState('');\n  const [user] = useAuthState(auth);\n  console.log(input);\n\n  const sendMessage = e => {\n    e.preventDefault(); // Prevents Refresh\n\n    if (!channelId) {\n      return false;\n    }\n\n    db.collection('rooms').doc(channelId).collection('messages').add({\n      message: input,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n      user: user.displayName,\n      userImage: user.photoURL\n    });\n    console.log(channelId);\n    chatRef.current.scrollIntoView({\n      behavior: 'smooth'\n    });\n    setInput('');\n  };\n\n  return /*#__PURE__*/_jsxDEV(ChatInputContainer, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: input,\n        onChange: e => setInput(e.target.value),\n        placeholder: `Message # ${channelName}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        hidden: true,\n        type: \"submit\",\n        onClick: sendMessage,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ChatInput, \"5GEgH6sftKHwHMbv6s75Hc+OUNE=\", false, function () {\n  return [useAuthState];\n});\n\n_c = ChatInput;\nexport default ChatInput;\nconst ChatInputContainer = styled.div`\nborder-radius:20px;\n>form{\n    position:relative;\n    display:flex;\n    justify-content:center;\n}\n>form>input{\n    position:fixed;\n    bottom:30px;\n    width:60%;\n    border:1px solid gray;\n    border-radius:3px;\n    padding:20px;\n    outline:none;\n}\n>form>Button{\ndisplay:none !important;\n}\n\n\n`;\n_c2 = ChatInputContainer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ChatInput\");\n$RefreshReg$(_c2, \"ChatInputContainer\");","map":{"version":3,"sources":["C:/Users/vardh/OneDrive/Desktop/chatapp/chatapp/src/components/ChatInput.js"],"names":["Button","React","useRef","useState","styled","SendOutlinedIcon","auth","db","firebase","Chat","useAuthState","ChatInput","channelName","channelId","chatRef","console","log","input","setInput","user","sendMessage","e","preventDefault","collection","doc","add","message","timestamp","firestore","FieldValue","serverTimestamp","displayName","userImage","photoURL","current","scrollIntoView","behavior","target","value","ChatInputContainer","div"],"mappings":";;;AAAA,SAASA,MAAT,QAAsB,mBAAtB;AACA,OAAOC,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,OAAxC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,SAASC,IAAT,EAAeC,EAAf,QAAyB,aAAzB;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAASC,YAAT,QAA6B,2BAA7B;;;AACA,SAASC,SAAT,CAAmB;AAACC,EAAAA,WAAD;AAAcC,EAAAA,SAAd;AAAwBC,EAAAA;AAAxB,CAAnB,EAAqD;AAAA;;AACjDC,EAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AACA,QAAM,CAACI,KAAD,EAAOC,QAAP,IAAiBf,QAAQ,CAAC,EAAD,CAA/B;AACA,QAAK,CAACgB,IAAD,IAAOT,YAAY,CAACJ,IAAD,CAAxB;AACAS,EAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;;AACA,QAAMG,WAAW,GAAEC,CAAD,IAAK;AACnBA,IAAAA,CAAC,CAACC,cAAF,GADmB,CACA;;AACnB,QAAI,CAACT,SAAL,EAAe;AACX,aAAO,KAAP;AACH;;AACDN,IAAAA,EAAE,CAACgB,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BX,SAA3B,EAAsCU,UAAtC,CAAiD,UAAjD,EAA6DE,GAA7D,CAAiE;AAC7DC,MAAAA,OAAO,EAACT,KADqD;AAE7DU,MAAAA,SAAS,EAACnB,QAAQ,CAACoB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EAFmD;AAG7DX,MAAAA,IAAI,EAACA,IAAI,CAACY,WAHmD;AAI7DC,MAAAA,SAAS,EAACb,IAAI,CAACc;AAJ8C,KAAjE;AAOAlB,IAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AACAC,IAAAA,OAAO,CAACoB,OAAR,CAAgBC,cAAhB,CAA+B;AAC3BC,MAAAA,QAAQ,EAAC;AADkB,KAA/B;AAGAlB,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACH,GAjBD;;AAkBA,sBACI,QAAC,kBAAD;AAAA,2BACI;AAAA,8BACI;AAAO,QAAA,KAAK,EAAED,KAAd;AACA,QAAA,QAAQ,EAAGI,CAAD,IAAKH,QAAQ,CAACG,CAAC,CAACgB,MAAF,CAASC,KAAV,CADvB;AAEA,QAAA,WAAW,EAAG,aAAY1B,WAAY;AAFtC;AAAA;AAAA;AAAA;AAAA,cADJ,eAII,QAAC,MAAD;AAAQ,QAAA,MAAM,MAAd;AAAe,QAAA,IAAI,EAAC,QAApB;AAA6B,QAAA,OAAO,EAAEQ,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAaH;;GApCQT,S;UAGOD,Y;;;KAHPC,S;AAsCT,eAAeA,SAAf;AAEA,MAAM4B,kBAAkB,GAACnC,MAAM,CAACoC,GAAI;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CArBA;MAAMD,kB","sourcesContent":["import { Button} from '@material-ui/core'\r\nimport React, { useRef, useState } from 'react'\r\nimport styled from 'styled-components';\r\nimport SendOutlinedIcon from '@material-ui/icons/SendOutlined';\r\nimport { auth, db } from '../firebase';\r\nimport firebase from 'firebase';\r\nimport Chat from './Chat'\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nfunction ChatInput({channelName, channelId,chatRef}) {\r\n    console.log(channelId);\r\n    const [input,setInput]=useState('');\r\n    const[user]=useAuthState(auth);\r\n    console.log(input);\r\n    const sendMessage=(e)=>{\r\n        e.preventDefault();// Prevents Refresh\r\n        if( !channelId){\r\n            return false;\r\n        }\r\n        db.collection('rooms').doc(channelId).collection('messages').add({\r\n            message:input,\r\n            timestamp:firebase.firestore.FieldValue.serverTimestamp(),\r\n            user:user.displayName,\r\n            userImage:user.photoURL,\r\n\r\n        });\r\n        console.log(channelId);\r\n        chatRef.current.scrollIntoView({\r\n            behavior:'smooth',\r\n        });\r\n        setInput('')\r\n    }\r\n    return (\r\n        <ChatInputContainer>\r\n            <form>\r\n                <input value={input} \r\n                onChange={(e)=>setInput(e.target.value)}\r\n                placeholder={`Message # ${channelName}`} />\r\n                <Button hidden type=\"submit\" onClick={sendMessage}>\r\n                    Send\r\n                </Button>\r\n            </form>\r\n\r\n        </ChatInputContainer>\r\n    )\r\n}\r\n\r\nexport default ChatInput\r\n\r\nconst ChatInputContainer=styled.div`\r\nborder-radius:20px;\r\n>form{\r\n    position:relative;\r\n    display:flex;\r\n    justify-content:center;\r\n}\r\n>form>input{\r\n    position:fixed;\r\n    bottom:30px;\r\n    width:60%;\r\n    border:1px solid gray;\r\n    border-radius:3px;\r\n    padding:20px;\r\n    outline:none;\r\n}\r\n>form>Button{\r\ndisplay:none !important;\r\n}\r\n\r\n\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}